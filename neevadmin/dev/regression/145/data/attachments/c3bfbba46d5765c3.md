# Test info

- Name: Hotel Booking Website Tests >> User should be able to book a room
- Location: /home/runner/work/playwrightDemoProject/playwrightDemoProject/src/features/ui/hotel-room.ui.spec.ts:19:7

# Error details

```
Error: locator.click: Error: strict mode violation: locator('.card:has(.card-title:has-text("Single")) .btn-primary') resolved to 2 elements:
    1) <a class="btn btn-primary" href="/reservation/4?checkin=2025-05-21&checkout=2025-05-22">Book now</a> aka locator('div').filter({ hasText: /^£509 per nightBook now$/ }).getByRole('link')
    2) <a class="btn btn-primary" href="/reservation/5?checkin=2025-05-21&checkout=2025-05-22">Book now</a> aka locator('div').filter({ hasText: /^£199 per nightBook now$/ }).getByRole('link')

Call log:
  - waiting for locator('.card:has(.card-title:has-text("Single")) .btn-primary')

    at RoomsPage.selectRoom (/home/runner/work/playwrightDemoProject/playwrightDemoProject/src/ui/pages/rooms.ts:11:95)
    at /home/runner/work/playwrightDemoProject/playwrightDemoProject/src/features/ui/hotel-room.ui.spec.ts:48:25
    at /home/runner/work/playwrightDemoProject/playwrightDemoProject/src/features/ui/hotel-room.ui.spec.ts:46:7
```

# Page snapshot

```yaml
- navigation:
  - link "Shady Meadows B&B":
    - /url: /
  - list:
    - listitem:
      - link "Rooms":
        - /url: /#rooms
    - listitem:
      - link "Booking":
        - /url: /#booking
    - listitem:
      - link "Amenities":
        - /url: /#amenities
    - listitem:
      - link "Location":
        - /url: /#location
    - listitem:
      - link "Contact":
        - /url: /#contact
    - listitem:
      - link "Admin":
        - /url: /admin
- heading "Welcome to Shady Meadows B&B" [level=1]
- paragraph: Welcome to Shady Meadows, a delightful Bed & Breakfast nestled in the hills on Newingtonfordburyshire. A place so beautiful you will never want to leave. All our rooms have comfortable beds and we provide breakfast from the locally sourced supermarket. It is a delightful place.
- link "Book Now":
  - /url: "#booking"
- heading "Check Availability & Book Your Stay" [level=3]
- text: Check In
- textbox: 21/05/2025
- text: Check Out
- textbox: 22/05/2025
- button "Check Availability"
- heading "Our Rooms" [level=2]
- paragraph: Comfortable beds and delightful breakfast from locally sourced ingredients
- img "Single Room"
- heading "Single" [level=5]
- paragraph: Please enter a description for this room
- text:  TV £509 per night
- link "Book now":
  - /url: /reservation/4?checkin=2025-05-21&checkout=2025-05-22
- img "Single Room"
- heading "Single" [level=5]
- paragraph: Please enter a description for this room
- text:  Safe £199 per night
- link "Book now":
  - /url: /reservation/5?checkin=2025-05-21&checkout=2025-05-22
- img "Single Room"
- heading "Twin" [level=5]
- paragraph: Please enter a description for this room
- text:  Views £914 per night
- link "Book now":
  - /url: /reservation/6?checkin=2025-05-21&checkout=2025-05-22
- heading "Our Location" [level=2]
- paragraph: Find us in the beautiful Newingtonfordburyshire countryside
- img
- link "Pigeon":
  - /url: https://pigeon-maps.js.org/
- text: "| ©"
- link "OpenStreetMap":
  - /url: https://www.openstreetmap.org/copyright
- text: contributors
- heading "Contact Information" [level=3]
- text: 
- heading "Address" [level=5]
- paragraph: Shady Meadows B&B, Shadows valley, Newingtonfordburyshire, Dilbery, N1 1AA
- text: 
- heading "Phone" [level=5]
- paragraph: "012345678901"
- text: 
- heading "Email" [level=5]
- paragraph: fake@fakeemail.com
- separator
- heading "Getting Here" [level=4]
- paragraph: Welcome to Shady Meadows, a delightful Bed & Breakfast nestled in the hills on Newingtonfordburyshire. A place so beautiful you will never want to leave. All our rooms have comfortable beds and we provide breakfast from the locally sourced supermarket. It is a delightful place.
- heading "Send Us a Message" [level=3]
- text: Name
- textbox "Name"
- text: Email
- textbox "Email"
- text: Phone
- textbox "Phone"
- text: Subject
- textbox "Subject"
- text: Message
- textbox
- button "Submit"
- contentinfo:
  - heading "Shady Meadows B&B" [level=5]
  - paragraph: Welcome to Shady Meadows, a delightful Bed & Breakfast nestled in the hills on Newingtonfordburyshire. A place so beautiful you will never want to leave. All our rooms have comfortable beds and we provide breakfast from the locally sourced supermarket. It is a delightful place.
  - link "":
    - /url: "#"
  - link "":
    - /url: "#"
  - link "":
    - /url: "#"
  - heading "Contact Us" [level=5]
  - list:
    - listitem:  Shady Meadows B&B, Shadows valley, Newingtonfordburyshire, Dilbery, N1 1AA
    - listitem:  012345678901
    - listitem:  fake@fakeemail.com
  - heading "Quick Links" [level=5]
  - list:
    - listitem:
      - link "Home":
        - /url: "#"
    - listitem:
      - link "Rooms":
        - /url: "#"
    - listitem:
      - link "Booking":
        - /url: "#"
    - listitem:
      - link "Contact":
        - /url: "#"
  - separator
  - text: restful-booker-platform v2.0 Created by
  - link "Mark Winteringham":
    - /url: http://www.mwtestconsultancy.co.uk
  - text: "- © 2019-25"
  - link "Cookie-Policy":
    - /url: /cookie
  - text: "-"
  - link "Privacy-Policy":
    - /url: /privacy
  - text: "-"
  - link "Admin panel":
    - /url: /admin
- alert
```

# Test source

```ts
   1 | import { expect } from "@playwright/test";
   2 | import { FrontPage } from "../../ui/pages/front-page";
   3 | import { ContactForm } from "../../types/types";
   4 |
   5 | export class RoomsPage extends FrontPage {
   6 |   async clickBookNowButton() {
   7 |     await this.page.locator(".hero").getByRole("link", { name: "Book Now" }).click();
   8 |   }
   9 |
  10 |   async selectRoom(description: string) {
> 11 |     await this.page.locator(`.card:has(.card-title:has-text("${description}")) .btn-primary`).click();
     |                                                                                               ^ Error: locator.click: Error: strict mode violation: locator('.card:has(.card-title:has-text("Single")) .btn-primary') resolved to 2 elements:
  12 |   }
  13 |
  14 |   async navigateToContact() {
  15 |     await this.page.getByRole("navigation").getByRole("link", { name: "Contact" }).click();
  16 |   }
  17 |
  18 |   async fillContactForm(cf: ContactForm) {
  19 |     await this.page.getByTestId("ContactName").fill(cf.name);
  20 |     await this.page.getByTestId("ContactEmail").fill(cf.email);
  21 |     await this.page.getByTestId("ContactPhone").fill(cf.phone);
  22 |     await this.page.getByTestId("ContactSubject").fill(cf.subject);
  23 |     await this.page.getByTestId("ContactDescription").fill(cf.message);
  24 |   }
  25 |
  26 |   async submitContactForm() {
  27 |     await this.page.getByRole("button", { name: "Submit" }).click();
  28 |   }
  29 |
  30 |   async verifyContactSubmissionMessage(name: string) {
  31 |     await expect(this.page.getByText(`Thanks for getting in touch ${name}!`)).toBeVisible();
  32 |   }
  33 |
  34 |   async navigateToAdmin() {
  35 |     await this.page.goto(`${this.baseURL}/admin`);
  36 |   }
  37 | }
  38 |
```